#include <stdio.h>
#include <stdlib.h>

int N=8;
int *cols;

int isSafe(int r,int c){
    for(int i=0;i<r;i++){
        if(cols[i]==c || abs(cols[i]-c)==abs(i-r)) return 0;
    }
    return 1;
}

int solve(int r){
    if(r==N) return 1;
    for(int c=0;c<N;c++){
        if(isSafe(r,c)){ cols[r]=c; if(solve(r+1)) return 1; }
    }
    return 0;
}

int main(){
    cols = malloc(N*sizeof(int));
    if(solve(0)){
        for(int i=0;i<N;i++){
            for(int j=0;j<N;j++) printf(cols[i]==j?"Q ":" . ");
            printf("\n");
        }
    } else printf("No solution\n");
    free(cols);
    return 0;
}
